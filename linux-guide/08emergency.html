<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>系统急救</title><link rel="stylesheet" href="../_static/css/theme-ycp.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/s4defs-roles.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/underline.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/avatarp.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在  中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="安装/卸载软件" href="09app.html" />
    <link rel="prev" title="新系统要做哪些设置" href="07after_ins.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            驿窗项目
              <img src="../_static/avatarp.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                开源/Linux大众化，从驿窗开始
              </div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ffmpeg/ffmpeg.html">FFmpeg应用参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gimp/gimp.html">GIMP操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inkscape/inkscape.html">Inkscape操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ycp_gd_base/ycp_base.html">驿窗平面基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libreoffice/libreoffice.html">LibreOffice操作指南</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="0linux-guide.html">Linux入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rime/rime.html">Rime开源输入法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onehand/onehand.html">单手笔顺输入法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scribus/scribus.html">Scribus操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shotcut/shotcut.html">Shotcut操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright-reg/copyright.html">版权登记操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trademark-reg/trademark.html">商标注册操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ycpview/ycpview.html">驿窗研究报告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license-ycp.html">开源公约数字条款</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutycp/aboutycp.html">关于驿窗项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../update/log.html">更新日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">版权声明(驿窗311条款)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../donate/donate.html">捐助</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">驿窗项目</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="0linux-guide.html">Linux入门指南</a></li>
      <li class="breadcrumb-item active">系统急救</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="顺序式页面导航">
        <a href="07after_ins.html" class="btn btn-neutral float-left" title="新系统要做哪些设置" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="09app.html" class="btn btn-neutral float-right" title="安装/卸载软件" accesskey="n">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="emergency">
<span id="id1"></span><h1>系统急救<a class="headerlink" href="#emergency" title="永久链接至标题"></a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="admonition-y-liveu admonition">
<p class="admonition-title"><a class="reference internal" href="../_images/avatarp15.svg"><img alt="Y" class="align-middle" height="22" src="../_images/avatarp15.svg" width="22" /></a> 驿窗注： <strong>常备Live启动U盘</strong></p>
<p>在电脑边常备一个Debian Live启动U盘，可以在Linux系统出故障的时候，用U盘引导电脑，然后把重要数据拷贝出来备份，之后可以用U盘中的各种工具对系统进行修复，甚至可以通过网络安装其它系统救援工具。</p>
<p>Debian Live启动U盘不仅可以用来体验Debian，它作为应急启动工具也非常实用，请使用Linux系统的用户一定在电脑边常备，以应对突发状况。</p>
</div>
<p>这一章原本是放在附录中的，但因为大家的数据实在是过于重要，一旦丢失会导致无数的心血浪费，所以，把系统急救相关的内容提前到这个位置，让用户尽早了解系统急救相关的关键知识，尽量确保数据安全。</p>
<p>系统急救的主要目的是保护数据。在保护数据之余，如果能对系统进行修复就更好了。下面我们进行详细说明：</p>
<ol class="arabic simple">
<li><p>安全的两个大方向</p></li>
<li><p>平时工作时的备份策略</p></li>
<li><p>数据备份工具rsync及操作方法</p></li>
<li><p>系统故障导致无法正常启动</p></li>
<li><p>忘记密码导致无法登录</p></li>
<li><p>备份整个系统</p></li>
</ol>
<div class="section" id="id2">
<h2>1. 安全的两个大方向<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<p>我们讨论安全，无非就是保密和防止丢失两大类。</p>
<dl>
<dt>保密：</dt><dd><p>如果有些数据需要保密，在成果完成之前不想让任何人看到，那么应该重点考虑<span class="dash2">数据加密</span>。如果能够做到加密后的数据只能自己才能解密，那么保密完全没有问题。</p>
<p>至于加密工具，推荐使用dm-crypt/cryptsetup。dm-crypt是集成在linux内核中的，而cryptseup是用来实现dm-crypt功能的一些命令。</p>
<p>另外，如果需要对一些文本信息进行加密，比如邮件内容。这种情况下，发出去的邮件是经过加密后再发送的，必须有密钥才能知道邮件真实内容是什么。这个功能推荐使用GPG(GnuPG)，它的非对称加密功能非常适合用于邮件加密。</p>
<p>并且，除了加密外，GPG还可以用于数字签名；这种情况下，信息并未加密，但可以验证签名的文件是否是本人发出的。</p>
</dd>
<dt>丢失：</dt><dd><p>加密的数据也可能丢失，比如不小心误删除，硬盘损坏或者被盗等。应对丢失这种情况，应该重点考虑下面讨论的<span class="dash2">备份策略</span>。</p>
</dd>
</dl>
</div>
<div class="section" id="id3">
<h2>2. 平时工作时的备份策略<a class="headerlink" href="#id3" title="永久链接至标题"></a></h2>
<p>第一，平时电脑数据备份，应该是从一块硬盘备份到另一块硬盘：两块硬盘同时损坏的机率远远小于一块硬盘损坏的机率。</p>
<p>第二，可以考虑建立本地私有云备份功能，比如用NAS+Nextcloud来创建私人云盘。如果不得不使用商用云存储，那么务必在上传数据前，对必要的数据进行加密处理。</p>
<p>所以，您的电脑应该配备双硬盘，这有点类似于<span class="dash6">不要把所有鸡蛋放在一个篮子里</span>。</p>
<p>另外，SSD固态硬盘有两个不太好的特点，一是SSD硬盘一旦损坏就彻底无法找回数据；二是SSD长期不通电会导致数据丢失，比如移动硬盘。这两个问题导致SSD在可靠性上出现争议，而机械硬盘在这两个方面的表现则要好很多。所以，您电脑上的两个硬盘，至少有一个应该是机械硬盘。如果实在没有，那么最好考虑USB移动机械硬盘或者NAS机械硬盘。固态硬盘提供读写速度优势，而机械硬盘则用来提供更可靠的安全保障。</p>
<p>第三，备份工作可以考虑<span class="dash6">自动备份</span>+<span class="dash6">手动备份</span>两种。</p>
<blockquote>
<div><p><span class="dash6">自动备份</span>，就是让系统在设定的时间自己运行数据备份工作，无需人工干预，只要系统是开机状态且没有休眠，就会把指定的数据自动备份到指定的目录。Debian系统中有一个服务叫cron，专门用来执行自动运行任务，典型的内容就是自动备份数据。</p>
<p><span class="dash6">手动备份</span>，就是人工手动操作备份工具进行备份。</p>
<p>之所以需要自动+手动两种方式，与用户的需求有关。常规情况下，自动备份到指定的自动备份目录可以满足99%的备份需求，但为灵活起见，临时手动操作备份数据到另一个专门的手动备份目录，也能满足部分特殊需求。两种方式的脚本在命令上没有大的区别，主要区别是备份目录不同。</p>
</div></blockquote>
</div>
<div class="section" id="rsync">
<h2>3. 数据备份工具rsync及操作方法<a class="headerlink" href="#rsync" title="永久链接至标题"></a></h2>
<p>rsync是linux平台非常有名的备份工具，且经常被用于生产环境，这里我们仅介绍一下简单的手动备份方法：</p>
<div class="section" id="id4">
<h3>3.1 安装rsync<a class="headerlink" href="#id4" title="永久链接至标题"></a></h3>
<p>先检查一下看系统中是否存在rsync命令:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync --version
</pre></div>
</div>
</div></blockquote>
<p>如果输出类似下面的信息则表明系统中已经存在rsync，直接使用即可：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>peter@Debian12:~ $ rsync --version
rsync  version <span class="m">3</span>.2.7  protocol version <span class="m">31</span>
Copyright <span class="o">(</span>C<span class="o">)</span> <span class="m">1996</span>-2022 by Andrew Tridgell, Wayne Davison, and others.
Web site: https://rsync.samba.org/
Capabilities:
    <span class="m">64</span>-bit files, <span class="m">64</span>-bit inums, <span class="m">64</span>-bit timestamps, <span class="m">64</span>-bit long ints, socketpairs, symlinks, symtimes, hardlinks, hardlink-specials, hardlink-symlinks, IPv6, atimes, batchfiles, inplace, append, ACLs, xattrs, optional secluded-args, iconv, prealloc, stop-at, no crtimes
Optimizations:
    no SIMD-roll, no asm-roll, openssl-crypto, no asm-MD5
Checksum list:
    xxh128 xxh3 xxh64 <span class="o">(</span>xxhash<span class="o">)</span> md5 md4 sha1 none
Compress list:
    zstd lz4 zlibx zlib none
Daemon auth list:
    sha512 sha256 sha1 md5 md4

rsync comes with ABSOLUTELY NO WARRANTY.  This is free software, and you are welcome to redistribute it under certain conditions.  See the GNU General Public Licence <span class="k">for</span> details.
</pre></div>
</div>
</div></blockquote>
<p>否则，您需要使用下面的命令安装rsync：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install rsync
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id5">
<h3>3.2 手动备份<a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<p>假设重要数据在/home/peter/data/目录中，您希望对整个data目录进行备份，备份的位置是另一个硬盘/media/peter/backup/data/ :</p>
<p>手动备份，您需要使用下面的命令：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync -avcP --delete /home/peter/data/ /media/peter/rootfs/home/peter/data/
</pre></div>
</div>
</div></blockquote>
<p>命令运行成功后，您可以在文件管理器中鼠标右键点击data文件夹&gt;属性，检查一下两个目录大小，尤其是字节数，字节数应该完全一致。一致表示两个目录完全一样，备份成功；否则表示备份失败，需要检查原因。</p>
</div>
<div class="section" id="id6">
<h3>3.3 自动备份<a class="headerlink" href="#id6" title="永久链接至标题"></a></h3>
<p>自动备份除了使用rsync，还会用到debian系统的cron服务，可以先检查一下cron服务是否存在：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>crontab -l
</pre></div>
</div>
</div></blockquote>
<p>如果提示类似下面的信息，就表示cron服务已经运行，可以直接使用：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>peter@debian12:~/data $ crontab -l

no crontab <span class="k">for</span> peter
</pre></div>
</div>
</div></blockquote>
<p>否则，您需要按下面的命令安装cron：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install cron
</pre></div>
</div>
</div></blockquote>
<p>确认系统已经运行cron服务后，先在/home/peter/目录创建一个文本文件，名称为backmydata，无后缀，文件内容为：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/bash</span>

rsync -acP --delete /home/peter/data/ /media/peter/rootfs/home/peter/data/
</pre></div>
</div>
</div></blockquote>
<p>上面这个文件其实是把手动备份命令放到backmydata这个脚本文件里，之后让系统定期执行这个脚本文件就可以了，等同于定期执行脚本文件中的备份命令。</p>
<p>接下来运行crontab命令，设置自动备份命令执行的时间：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>peter@debian12:~/data $ crontab -e
</pre></div>
</div>
</div></blockquote>
<p>首次运行crontab -e命令会提示下面的信息：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>no crontab <span class="k">for</span> peter - using an empty one

Select an editor.  To change later, run <span class="s1">&#39;select-editor&#39;</span>.
  <span class="m">1</span>. /bin/nano        &lt;---- easiest
  <span class="m">2</span>. /usr/bin/vim.tiny

Choose <span class="m">1</span>-2 <span class="o">[</span><span class="m">1</span><span class="o">]</span>:
</pre></div>
</div>
<div class="admonition-y-nano admonition">
<p class="admonition-title"><a class="reference internal" href="../_images/avatarp15.svg"><img alt="Y" class="align-middle" height="22" src="../_images/avatarp15.svg" width="22" /></a> 驿窗注：nano编辑器的简单指南</p>
<p>nano编辑器默认系统自带不需要安装，简单操作方法如下：</p>
<ol class="arabic simple">
<li><p>Ctrl+o：保存</p></li>
<li><p>Ctrl+x：退出</p></li>
<li><p>Ctrl+Esc：取消</p></li>
<li><p>(其它快捷键请参考窗口下方的提示，<code class="docutils literal notranslate"><span class="pre">^</span></code>表示<code class="docutils literal notranslate"><span class="pre">Ctrl+</span></code>，字母不区分大小写)</p></li>
<li><p>(用户可以用方向键和回车键在内容中移动光标到需要的位置，然后输入相关内容，输入完成后按Ctrl+o保存，再Ctrl+x退出)</p></li>
</ol>
</div>
</div></blockquote>
<p>这表示用户需要指定一个编辑器，用来编辑cron服务所执行的文件。这里我们选择nano，输入数字1然后回车，会提示下面的信息：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Edit this file to introduce tasks to be run by cron.</span>
<span class="c1">#</span>
<span class="c1"># Each task to run has to be defined through a single line</span>
<span class="c1"># indicating with different fields when the task will be run</span>
<span class="c1"># and what command to run for the task</span>
<span class="c1">#</span>
<span class="c1"># To define the time you can provide concrete values for</span>
<span class="c1"># minute (m), hour (h), day of month (dom), month (mon),</span>
<span class="c1"># and day of week (dow) or use &#39;*&#39; in these fields (for &#39;any&#39;).</span>
<span class="c1">#</span>
<span class="c1"># Notice that tasks will be started based on the cron&#39;s system</span>
<span class="c1"># daemon&#39;s notion of time and timezones.</span>
<span class="c1">#</span>
<span class="c1"># Output of the crontab jobs (including errors) is sent through</span>
<span class="c1"># email to the user the crontab file belongs to (unless redirected).</span>
<span class="c1">#</span>
<span class="c1"># For example, you can run a backup of all your user accounts</span>
<span class="c1"># at 5 a.m every week with:</span>
<span class="c1"># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span>
<span class="c1">#</span>
<span class="c1"># For more information see the manual pages of crontab(5) and cron(8)</span>
<span class="c1">#</span>
<span class="c1"># m h  dom mon dow   command</span>
</pre></div>
</div>
</div></blockquote>
<p>在上面文件的最末尾，添加下面两行：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">SHELL</span><span class="o">=</span>/usr/bin/bash
<span class="m">0</span> <span class="m">12</span> * * * <span class="nv">$HOME</span>/backmydata
</pre></div>
</div>
</div></blockquote>
<p>保存并退出，再运行crontab -l命令，会输出类似下面的信息：</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Edit this file to introduce tasks to be run by cron.</span>
<span class="c1">#</span>
<span class="c1"># Each task to run has to be defined through a single line</span>
<span class="c1"># indicating with different fields when the task will be run</span>
<span class="c1"># and what command to run for the task</span>
<span class="c1">#</span>
<span class="c1"># To define the time you can provide concrete values for</span>
<span class="c1"># minute (m), hour (h), day of month (dom), month (mon),</span>
<span class="c1"># and day of week (dow) or use &#39;*&#39; in these fields (for &#39;any&#39;).</span>
<span class="c1">#</span>
<span class="c1"># Notice that tasks will be started based on the cron&#39;s system</span>
<span class="c1"># daemon&#39;s notion of time and timezones.</span>
<span class="c1">#</span>
<span class="c1"># Output of the crontab jobs (including errors) is sent through</span>
<span class="c1"># email to the user the crontab file belongs to (unless redirected).</span>
<span class="c1">#</span>
<span class="c1"># For example, you can run a backup of all your user accounts</span>
<span class="c1"># at 5 a.m every week with:</span>
<span class="c1"># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span>
<span class="c1">#</span>
<span class="c1"># For more information see the manual pages of crontab(5) and cron(8)</span>
<span class="c1">#</span>
<span class="c1"># m h  dom mon dow   command</span>
<span class="nv">SHELL</span><span class="o">=</span>/usr/bin/bash
<span class="m">0</span> <span class="m">12</span> * * * <span class="nv">$HOME</span>/backmydata
</pre></div>
</div>
</div></blockquote>
<p>其中，<code class="docutils literal notranslate"><span class="pre">SHELL=/usr/bin/bash</span></code>表示执行终端命令， <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">12</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">$HOME/backmydata</span></code>表示每天的中午12点执行/home/peter/目录中的backmydata脚本。因为脚本中的命令就是备份，所以执行backmydata脚本等同于执行备份命令。</p>
</div>
</div>
<div class="section" id="id7">
<h2>4. 系统故障导致无法正常启动<a class="headerlink" href="#id7" title="永久链接至标题"></a></h2>
<p>在拯救系统之前，我们先要确保数据安全。所以，这时最有效的方法是使用有数据拷贝功能的启动U盘启动电脑，先把数据拷贝到安全的地方，然后再考虑如何拯救系统。</p>
<p>启动U盘很简单，使用Debian-live的iso创建的U盘就可以，主要功能就是把电脑引导起来，然后进行进一步的操作，比如把重要的数据拷贝到移动硬盘、对系统进行修复等等。</p>
<p>这要求您在平时就创建好一个Live启动U盘放在电脑边备用。实际上，驿窗强烈您平时准备一个Debian Live启动U盘，这样系统无论何时出任何状况，只要硬件没坏，您就可以用这个U盘把电脑引导起来，然后拷贝您的重要数据并尝试修复系统。</p>
</div>
<div class="section" id="id8">
<h2>5. 忘记密码导致无法登录<a class="headerlink" href="#id8" title="永久链接至标题"></a></h2>
<p>这个情况通常不需要重新安装系统，只需要重置密码就可以了，包括root密码也可以重置。</p>
</div>
<div class="section" id="id9">
<h2>6. 备份整个系统<a class="headerlink" href="#id9" title="永久链接至标题"></a></h2>
<p>之所以把备份整个系统放在最后，是因为对于多数人，尤其是对于新手来说，备份系统不如只备份重要数据。当系统有问题时，重装系统更适合。</p>
<p>但当用户的Linux水平和经验以及应用有一定积累以后，备份整个系统的需求就显得更有意义一些。例如，当你的系统里有一些特殊设置，或者有一些复杂的设置，或者有比较多的应用。这种情况下，重装系统之后，需要花很多时间和精力来配置新装的系统，否则无法正常工作，这导致工作进度会被暂停，尤其对于需要快速进入工作状态的情况下，会显得很浪费时间。这个时候，整个系统的备份/还原功能就非常方便。</p>
<p>接下来，我们介绍两种备份/还原整个系统的方法：</p>
<ol class="arabic simple">
<li><p>使用clonezilla这个系统克隆工具，把整个系统备份到文件，或者直接克隆到新硬盘。</p></li>
<li><p>使用rsync命令，把整个系统备份成文件，或者直接迁移到新硬盘。</p></li>
</ol>
<p>两种方法相比，clonezilla操作起来相对简单，rsync命令操作起来相对要复杂一些。</p>
<p>使用clonezilla工具时，各个方面都还不错，唯一的美中不足是，clonezilla要求目标硬盘的空间不能小于源硬盘空间。</p>
<p>举个例子，我当前的系统所在的硬盘，容量是512GB，那么，如果我想把这个系统克隆到一个新硬盘上，则要求新硬盘的容量不能小于512GB，更大当然没问题。</p>
<p>如果源硬盘是512GB，新硬盘是480GB，那么clonezilla工具失败的概率就非常大。这种情况下，就要考虑使用rsync命令，因为rsync命令不用考虑两个硬盘到底哪个大哪个小，只要空间容量足够存放数据即可。比如源硬盘，在系统中运行df -Th命令可以查看其大小和<span class="dash6">已用空间</span>，所有<span class="dash6">已用空间</span>的总和就是需要的新硬盘的容量。新硬盘容量只要大于这个已用空间数值就可以。</p>
<p><em>未完稿……</em></p>
<p><a href="#id10"><span class="problematic" id="id11">*</span></a>最近一次更新：2024-01-20</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="07after_ins.html" class="btn btn-neutral float-left" title="新系统要做哪些设置" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="09app.html" class="btn btn-neutral float-right" title="安装/卸载软件" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 : 驿窗.</p>
  </div>

  
<p style="color: gray;">除额外注明的地方外，本文档由<strong>驿窗</strong>原创，并根据开源协议-<a href="https://ycproject.cn/license/license.html" style="text-decoration: underline;">驿窗311条款</a>发布。
<br>所有内容仅供参考，不提供任何担保。需求或疑问请联系：classenu@163.com</p>
 


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>